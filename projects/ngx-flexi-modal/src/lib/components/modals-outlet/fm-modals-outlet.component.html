@if (modals().length) {
  <div
    data-cy="modals-backdrop"
    class="fm-modals--backdrop"
    [@fadeInOutBackdrop]="{ value: true, params: { delay: backdropAnimationDelay() }}"
    (@fadeInOutBackdrop.done)="onBackdropAnimationDone()"
    [@.disabled]="backdropAnimationDisabled()"
  ></div>

  @for(modal of modals(); track modal.id()) {
    @switch (modal.type) {
      @case ('COMPONENT') {
        <fm-modal-instance-with-component [modal]="$any(modal)" @fadeInOutInstance #modals />
      }
      @case ('TEMPLATE') {
        <fm-modal-instance-with-template [modal]="$any(modal)" @fadeInOutInstance #modals />
      }
    }
  }
}
