@if (modals().length) {
  @if (!modalActive()?.config()?.maximized) {
    <div class="fm-modals--backdrop" @fadeInOut></div>
  }

  @for(modal of modals(); track modal.id()) {
    @switch (modal.type) {
      @case ('COMPONENT') {
        <fm-modal-component-instance
          class="fm-modal-instance"
          [modal]="$any(modal)"
          @fadeInOut
          #modals
        />
      }
      @case ('TEMPLATE') {
        <fm-modal-template-instance
          class="fm-modal-instance"
          [modal]="$any(modal)"
          @fadeInOut
          #modals
        />
      }
    }
  }
}
